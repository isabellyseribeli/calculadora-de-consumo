(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[592],{285:(e,a,s)=>{"use strict";s.d(a,{$:()=>d,r:()=>i});var t=s(5155),r=s(2115),l=s(4253),n=s(2085),o=s(9434);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,a)=>{let{className:s,variant:r,size:n,asChild:d=!1,...c}=e,m=d?l.DX:"button";return(0,t.jsx)(m,{className:(0,o.cn)(i({variant:r,size:n,className:s})),ref:a,...c})});d.displayName="Button"},1950:(e,a,s)=>{"use strict";s.d(a,{p:()=>t,q:()=>r});let t={verde:{rate:.54,label:"Bandeira Verde"},amarela:{rate:.57,label:"Bandeira Amarela"},vermelha1:{rate:.6,label:"Bandeira Vermelha P1"},vermelha2:{rate:.65,label:"Bandeira Vermelha P2"}},r=[{id:"sala",name:"Sala",appliances:[]},{id:"cozinha",name:"Cozinha",appliances:[]},{id:"suite",name:"Su\xedte",appliances:[]},{id:"banheiro_suite",name:"Banheiro Su\xedte",appliances:[]},{id:"quarto_2",name:"Quarto 2",appliances:[]},{id:"banheiro_social",name:"Banheiro Social",appliances:[]},{id:"lavanderia",name:"Lavanderia",appliances:[]},{id:"quarto_3",name:"Quarto 3",appliances:[]},{id:"escritorio",name:"Escrit\xf3rio",appliances:[]}]},3038:(e,a,s)=>{"use strict";s.d(a,{I:()=>l});var t=s(9034),r=s(2115);let l=()=>{let e=(0,r.useContext)(t.Y);if(!e)throw Error("useEnergy must be used within an EnergyProvider");return e}},4089:(e,a,s)=>{"use strict";s.d(a,{default:()=>ev});var t=s(5155),r=s(3038),l=s(2115),n=s(5821),o=s(5318),i=s(9434);let d=n.bL;n.l9;let c=n.ZL;n.bm;let m=l.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.hJ,{ref:a,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r})});m.displayName=n.hJ.displayName;let u=l.forwardRef((e,a)=>{let{className:s,children:r,...l}=e;return(0,t.jsxs)(c,{children:[(0,t.jsx)(m,{}),(0,t.jsxs)(n.UC,{ref:a,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...l,children:[r,(0,t.jsxs)(n.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(o.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=n.UC.displayName;let p=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...s})};p.displayName="DialogHeader";let x=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s})};x.displayName="DialogFooter";let f=l.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.hE,{ref:a,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",s),...r})});f.displayName=n.hE.displayName;let h=l.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.VY,{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",s),...r})});h.displayName=n.VY.displayName;var g=s(285),j=s(8803),N=s(8763),b=s(7223),v=s(8046);let y=l.forwardRef((e,a)=>{let{className:s,type:r,...l}=e;return(0,t.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...l})});y.displayName="Input";var w=s(2177),A=s(5594),C=s(221),_=s(4253),S=s(968);let E=(0,s(2085).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),R=l.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(S.b,{ref:a,className:(0,i.cn)(E(),s),...r})});R.displayName=S.b.displayName;let D=w.Op,I=l.createContext({}),k=e=>{let{...a}=e;return(0,t.jsx)(I.Provider,{value:{name:a.name},children:(0,t.jsx)(w.xI,{...a})})},z=()=>{let e=l.useContext(I),a=l.useContext(T),{getFieldState:s,formState:t}=(0,w.xW)(),r=s(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=a;return{id:n,name:e.name,formItemId:"".concat(n,"-form-item"),formDescriptionId:"".concat(n,"-form-item-description"),formMessageId:"".concat(n,"-form-item-message"),...r}},T=l.createContext({}),O=l.forwardRef((e,a)=>{let{className:s,...r}=e,n=l.useId();return(0,t.jsx)(T.Provider,{value:{id:n},children:(0,t.jsx)("div",{ref:a,className:(0,i.cn)("space-y-2",s),...r})})});O.displayName="FormItem";let P=l.forwardRef((e,a)=>{let{className:s,...r}=e,{error:l,formItemId:n}=z();return(0,t.jsx)(R,{ref:a,className:(0,i.cn)(l&&"text-destructive",s),htmlFor:n,...r})});P.displayName="FormLabel";let F=l.forwardRef((e,a)=>{let{...s}=e,{error:r,formItemId:l,formDescriptionId:n,formMessageId:o}=z();return(0,t.jsx)(_.DX,{ref:a,id:l,"aria-describedby":r?"".concat(n," ").concat(o):"".concat(n),"aria-invalid":!!r,...s})});F.displayName="FormControl",l.forwardRef((e,a)=>{let{className:s,...r}=e,{formDescriptionId:l}=z();return(0,t.jsx)("p",{ref:a,id:l,className:(0,i.cn)("text-sm text-muted-foreground",s),...r})}).displayName="FormDescription";let q=l.forwardRef((e,a)=>{var s;let{className:r,children:l,...n}=e,{error:o,formMessageId:d}=z(),c=o?String(null!=(s=null==o?void 0:o.message)?s:""):l;return c?(0,t.jsx)("p",{ref:a,id:d,className:(0,i.cn)("text-sm font-medium text-destructive",r),...n,children:c}):null});q.displayName="FormMessage";var M=s(7481);let V=A.z.object({name:A.z.string().min(2,"O nome deve ter pelo menos 2 caracteres."),power:A.z.coerce.number().min(1,"A pot\xeancia deve ser maior que 0.").int("A pot\xeancia deve ser um n\xfamero inteiro."),usageHoursPerDay:A.z.coerce.number().min(0,"O tempo de uso n\xe3o pode ser negativo.").max(24,"O tempo de uso n\xe3o pode exceder 24 horas.")});function H(e){let{isOpen:a,onClose:s,roomId:n,appliance:o}=e,{addAppliance:i,updateAppliance:c}=(0,r.I)(),{toast:m}=(0,M.dj)(),j=!!o,N=(0,w.mN)({resolver:(0,C.u)(V),defaultValues:{name:"",power:0,usageHoursPerDay:0}});return(0,l.useEffect)(()=>{o?N.reset({name:o.name,power:o.power,usageHoursPerDay:o.usageHoursPerDay}):N.reset({name:"",power:0,usageHoursPerDay:0})},[o,N]),(0,t.jsx)(d,{open:a,onOpenChange:s,children:(0,t.jsxs)(u,{className:"sm:max-w-[425px]",children:[(0,t.jsxs)(p,{children:[(0,t.jsx)(f,{className:"font-headline",children:j?"Editar Aparelho":"Adicionar Novo Aparelho"}),(0,t.jsx)(h,{children:"Preencha as informa\xe7\xf5es do eletrodom\xe9stico abaixo."})]}),(0,t.jsx)(D,{...N,children:(0,t.jsxs)("form",{onSubmit:N.handleSubmit(e=>{j&&o?(c(n,{...o,...e}),m({title:"Sucesso!",description:"Aparelho atualizado."})):(i(n,e),m({title:"Sucesso!",description:"Aparelho adicionado."})),s()}),className:"space-y-4 py-4",children:[(0,t.jsx)(k,{control:N.control,name:"name",render:e=>{let{field:a}=e;return(0,t.jsxs)(O,{children:[(0,t.jsx)(P,{children:"Nome do Aparelho"}),(0,t.jsx)(F,{children:(0,t.jsx)(y,{placeholder:"Ex: Geladeira, Televis\xe3o",...a})}),(0,t.jsx)(q,{})]})}}),(0,t.jsx)(k,{control:N.control,name:"power",render:e=>{let{field:a}=e;return(0,t.jsxs)(O,{children:[(0,t.jsx)(P,{children:"Pot\xeancia (em Watts)"}),(0,t.jsx)(F,{children:(0,t.jsx)(y,{type:"number",placeholder:"Ex: 150",...a})}),(0,t.jsx)(q,{})]})}}),(0,t.jsx)(k,{control:N.control,name:"usageHoursPerDay",render:e=>{let{field:a}=e;return(0,t.jsxs)(O,{children:[(0,t.jsx)(P,{children:"Tempo de Uso (horas por dia)"}),(0,t.jsx)(F,{children:(0,t.jsx)(y,{type:"number",step:"0.5",placeholder:"Ex: 8.5",...a})}),(0,t.jsx)(q,{})]})}}),(0,t.jsxs)(x,{children:[(0,t.jsx)(g.$,{type:"button",variant:"outline",onClick:s,children:"Cancelar"}),(0,t.jsx)(g.$,{type:"submit",children:"Salvar"})]})]})})]})})}var L=s(2278);let $=L.bL,B=L.l9,Z=L.ZL,U=l.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(L.hJ,{className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r,ref:a})});U.displayName=L.hJ.displayName;let J=l.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsxs)(Z,{children:[(0,t.jsx)(U,{}),(0,t.jsx)(L.UC,{ref:a,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...r})]})});J.displayName=L.UC.displayName;let Y=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...s})};Y.displayName="AlertDialogHeader";let W=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s})};W.displayName="AlertDialogFooter";let G=l.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(L.hE,{ref:a,className:(0,i.cn)("text-lg font-semibold",s),...r})});G.displayName=L.hE.displayName;let K=l.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(L.VY,{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",s),...r})});K.displayName=L.VY.displayName;let Q=l.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(L.rc,{ref:a,className:(0,i.cn)((0,g.r)(),s),...r})});Q.displayName=L.rc.displayName;let X=l.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(L.ZD,{ref:a,className:(0,i.cn)((0,g.r)({variant:"outline"}),"mt-2 sm:mt-0",s),...r})});X.displayName=L.ZD.displayName;var ee=s(7655);let ea=l.forwardRef((e,a)=>{let{className:s,children:r,...l}=e;return(0,t.jsxs)(ee.bL,{ref:a,className:(0,i.cn)("relative overflow-hidden",s),...l,children:[(0,t.jsx)(ee.LM,{className:"h-full w-full rounded-[inherit]",children:r}),(0,t.jsx)(es,{}),(0,t.jsx)(ee.OK,{})]})});ea.displayName=ee.bL.displayName;let es=l.forwardRef((e,a)=>{let{className:s,orientation:r="vertical",...l}=e;return(0,t.jsx)(ee.VM,{ref:a,orientation:r,className:(0,i.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...l,children:(0,t.jsx)(ee.lr,{className:"relative flex-1 rounded-full bg-border"})})});function et(e){let{roomId:a,isOpen:s,onClose:n}=e,{getRoomById:o,removeAppliance:i,getApplianceConsumption:c}=(0,r.I)(),[m,y]=(0,l.useState)(!1),[w,A]=(0,l.useState)(null),C=a?o(a):null,_=e=>{A(e),y(!0)};return C?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d,{open:s,onOpenChange:n,children:(0,t.jsxs)(u,{className:"sm:max-w-[525px]",children:[(0,t.jsxs)(p,{children:[(0,t.jsx)(f,{className:"font-headline text-2xl",children:C.name}),(0,t.jsx)(h,{children:"Gerencie os eletrodom\xe9sticos neste c\xf4modo."})]}),(0,t.jsx)("div",{className:"py-4",children:0===C.appliances.length?(0,t.jsxs)("div",{className:"text-center text-muted-foreground py-8",children:[(0,t.jsx)("p",{children:"Nenhum aparelho adicionado ainda."}),(0,t.jsx)("p",{children:'Clique em "Adicionar Aparelho" para come\xe7ar.'})]}):(0,t.jsx)(ea,{className:"h-[300px] pr-4",children:(0,t.jsx)("div",{className:"space-y-4",children:C.appliances.map(e=>{let{monthlyKwh:a}=c(e);return(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-secondary/50 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:e.name}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground flex items-center gap-4 mt-1",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(j.A,{className:"w-3 h-3"})," ",e.power,"W"]}),(0,t.jsxs)("span",{children:[e.usageHoursPerDay,"h/dia"]}),(0,t.jsxs)("span",{children:[a.toFixed(2)," kWh/m\xeas"]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(g.$,{variant:"ghost",size:"icon",onClick:()=>_(e),children:[(0,t.jsx)(N.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Editar"})]}),(0,t.jsxs)($,{children:[(0,t.jsx)(B,{asChild:!0,children:(0,t.jsxs)(g.$,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",children:[(0,t.jsx)(b.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Remover"})]})}),(0,t.jsxs)(J,{children:[(0,t.jsxs)(Y,{children:[(0,t.jsx)(G,{children:"Voc\xea tem certeza?"}),(0,t.jsxs)(K,{children:["Essa a\xe7\xe3o n\xe3o pode ser desfeita. Isso remover\xe1 permanentemente o aparelho ",(0,t.jsx)("span",{className:"font-bold",children:e.name}),"."]})]}),(0,t.jsxs)(W,{children:[(0,t.jsx)(X,{children:"Cancelar"}),(0,t.jsx)(Q,{onClick:()=>i(C.id,e.id),children:"Remover"})]})]})]})]})]},e.id)})})})}),(0,t.jsx)(x,{children:(0,t.jsxs)(g.$,{onClick:()=>{A(null),y(!0)},children:[(0,t.jsx)(v.A,{className:"mr-2 h-4 w-4"})," Adicionar Aparelho"]})})]})}),m&&(0,t.jsx)(H,{isOpen:m,onClose:()=>{y(!1),A(null)},roomId:C.id,appliance:w})]}):null}es.displayName=ee.VM.displayName;var er=s(6695),el=s(5121),en=s(6472),eo=s(4795),ei=s(1781),ed=s(1857),ec=s(794),em=s(3636),eu=s(8328),ep=s(3640),ex=s(5904),ef=s(2924),eh=s(2791),eg=s(8018);function ej(e){let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,i.cn)("animate-pulse rounded-md bg-muted",a),...s})}let eN={cozinha:(0,t.jsx)(el.A,{}),sala:(0,t.jsx)(en.A,{}),lavanderia:(0,t.jsx)(eo.A,{}),quarto_1:(0,t.jsx)(ei.A,{}),banheiro_1:(0,t.jsx)(ed.A,{}),escritorio:(0,t.jsx)(ec.A,{}),quarto_2:(0,t.jsx)(ei.A,{}),quarto_3:(0,t.jsx)(ei.A,{}),suite:(0,t.jsx)(ei.A,{}),banheiro_suite:(0,t.jsx)(ed.A,{}),banheiro_social:(0,t.jsx)(ed.A,{}),corredor:(0,t.jsx)(em.A,{}),garagem:(0,t.jsx)(eu.A,{})},eb={Chuveiro:(0,t.jsx)(ed.A,{className:"w-4 h-4"}),Lâmpada:(0,t.jsx)(em.A,{className:"w-4 h-4"}),Televisão:(0,t.jsx)(en.A,{className:"w-4 h-4"}),"Ar Condicionado":(0,t.jsx)(ep.A,{className:"w-4 h-4"}),Geladeira:(0,t.jsx)(ex.A,{className:"w-4 h-4"}),Fogão:(0,t.jsx)(ef.A,{className:"w-4 h-4"}),"Micro-ondas":(0,t.jsx)(eh.A,{className:"w-4 h-4"}),Ventilador:(0,t.jsx)(ep.A,{className:"w-4 h-4"}),Impressora:(0,t.jsx)(eg.A,{className:"w-4 h-4"}),"M\xe1quina de Lavar":(0,t.jsx)(eo.A,{className:"w-4 h-4"})};function ev(){let{getRoomById:e,isClient:a}=(0,r.I)(),[s,n]=(0,l.useState)(null),o=e=>{n(e)},d=(a,s)=>{let r=e(a);if(!r)return null;let l=r.appliances.length;return(0,t.jsxs)("div",{className:(0,i.cn)("flex flex-col items-center justify-center p-4 rounded-md text-gray-800 font-bold text-center cursor-pointer hover:ring-2 hover:ring-primary hover:ring-offset-2 transition-all duration-300 min-h-[100px] shadow-inner",{suite:"bg-blue-200",banheiro_suite:"bg-blue-100",quarto_2:"bg-green-200",quarto_3:"bg-yellow-200",banheiro_social:"bg-purple-200",cozinha:"bg-orange-200",sala:"bg-indigo-200",lavanderia:"bg-red-200",escritorio:"bg-cyan-200"}[a]),style:{gridArea:s},onClick:()=>o(r.id),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[eN[r.id],(0,t.jsx)("span",{className:"text-sm md:text-base",children:r.name})]}),(0,t.jsxs)("div",{className:"flex flex-wrap justify-center gap-2",children:[r.appliances.slice(0,3).map(e=>(0,t.jsx)("div",{className:"p-1.5 bg-black/10 rounded-full",title:e.name,children:eb[e.name]||(0,t.jsx)(em.A,{className:"w-3 h-3"})},e.id)),l>3&&(0,t.jsxs)("div",{className:"p-1.5 text-xs bg-black/10 rounded-full",children:["+",l-3]})]})]})};return a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(er.Zp,{className:"p-4 md:p-6 shadow-lg bg-card/50",children:(0,t.jsxs)("div",{className:"grid gap-2 max-w-4xl mx-auto h-[70vh]",style:{gridTemplateAreas:"\n              'suite banheiro_suite cozinha'\n              'quarto_2 banheiro_social cozinha'\n              'quarto_3 sala cozinha'\n              'escritorio sala lavanderia'\n            ",gridTemplateRows:"1fr 1fr 1fr 1fr",gridTemplateColumns:"1fr 1fr 1.2fr"},children:[d("sala","sala"),d("cozinha","cozinha"),d("suite","suite"),d("banheiro_suite","banheiro_suite"),d("quarto_2","quarto_2"),d("quarto_3","quarto_3"),d("banheiro_social","banheiro_social"),d("lavanderia","lavanderia"),d("escritorio","escritorio")]})}),(0,t.jsx)(et,{roomId:s,isOpen:!!s,onClose:()=>{n(null)}})]}):(0,t.jsx)(er.Zp,{className:"p-4 md:p-6 shadow-lg bg-card/50",children:(0,t.jsxs)("div",{className:"grid grid-cols-3 grid-rows-3 gap-2 max-w-4xl mx-auto h-[70vh]",children:[(0,t.jsx)(ej,{className:"col-span-2 row-span-1"}),(0,t.jsx)(ej,{className:"col-span-1 row-span-1"}),(0,t.jsx)(ej,{className:"col-span-1 row-span-1"}),(0,t.jsx)(ej,{className:"col-span-1 row-span-1"}),(0,t.jsx)(ej,{className:"col-span-1 row-span-1"}),(0,t.jsx)(ej,{className:"col-span-1 row-span-1"}),(0,t.jsx)(ej,{className:"col-span-2 row-span-1"})]})})}},5730:(e,a,s)=>{Promise.resolve().then(s.bind(s,4089))},6695:(e,a,s)=>{"use strict";s.d(a,{Wu:()=>d,ZB:()=>i,Zp:()=>n,aR:()=>o});var t=s(5155),r=s(2115),l=s(9434);let n=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});n.displayName="Card";let o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...r})});o.displayName="CardHeader";let i=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});i.displayName="CardTitle",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",s),...r})}).displayName="CardDescription";let d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,l.cn)("p-6 pt-0",s),...r})});d.displayName="CardContent",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter"},7481:(e,a,s)=>{"use strict";s.d(a,{dj:()=>u});var t=s(2115);let r=0,l=new Map,n=e=>{if(l.has(e))return;let a=setTimeout(()=>{l.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e4);l.set(e,a)},o=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=a;return s?n(s):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},i=[],d={toasts:[]};function c(e){d=o(d,e),i.forEach(e=>{e(d)})}function m(e){let{...a}=e,s=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),t=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...a,id:s,open:!0,onOpenChange:e=>{e||t()}}}),{id:s,dismiss:t,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function u(){let[e,a]=t.useState(d);return t.useEffect(()=>(i.push(a),()=>{let e=i.indexOf(a);e>-1&&i.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},9034:(e,a,s)=>{"use strict";s.d(a,{EnergyProvider:()=>i,Y:()=>o});var t=s(5155),r=s(1950),l=s(9434),n=s(2115);let o=(0,n.createContext)(null),i=e=>{let{children:a}=e,[s,i]=(0,n.useState)(!1),[d,c]=(0,n.useState)(r.q),[m,u]=(0,n.useState)("verde");(0,n.useEffect)(()=>{i(!0)},[]),(0,n.useEffect)(()=>{if(s){let e=localStorage.getItem("energywise-rooms");if(e)try{c(JSON.parse(e))}catch(e){console.error("Failed to parse rooms from localStorage",e)}let a=localStorage.getItem("energywise-tariff");a&&u(a)}},[s]),(0,n.useEffect)(()=>{s&&localStorage.setItem("energywise-rooms",JSON.stringify(d))},[d,s]),(0,n.useEffect)(()=>{s&&localStorage.setItem("energywise-tariff",m)},[m,s]);let p=(0,n.useCallback)((e,a)=>{c(s=>s.map(s=>s.id===e?{...s,appliances:[...s.appliances,{...a,id:(0,l.$)()}]}:s))},[]),x=(0,n.useCallback)((e,a)=>{c(s=>s.map(s=>s.id===e?{...s,appliances:s.appliances.map(e=>e.id===a.id?a:e)}:s))},[]),f=(0,n.useCallback)((e,a)=>{c(s=>s.map(s=>s.id===e?{...s,appliances:s.appliances.filter(e=>e.id!==a)}:s))},[]),h=(0,n.useCallback)(e=>d.find(a=>a.id===e),[d]),g=(0,n.useCallback)(e=>({monthlyKwh:e.power*e.usageHoursPerDay*30/1e3}),[]),{totalMonthlyKwh:j,totalDailyKwh:N,totalMonthlyCost:b,totalDailyCost:v}=(0,n.useMemo)(()=>{let e=d.reduce((e,a)=>e+a.appliances.reduce((e,a)=>e+a.power*a.usageHoursPerDay,0),0)/1e3,a=30*e,s=r.p[m].rate;return{totalMonthlyKwh:a,totalDailyKwh:e,totalMonthlyCost:a*s,totalDailyCost:e*s}},[d,m]);return(0,t.jsx)(o.Provider,{value:{rooms:d,tariffFlag:m,setTariffFlag:u,addAppliance:p,updateAppliance:x,removeAppliance:f,getRoomById:h,totalMonthlyKwh:j,totalDailyKwh:N,totalMonthlyCost:b,totalDailyCost:v,getApplianceConsumption:g,isClient:s},children:a})}},9434:(e,a,s)=>{"use strict";s.d(a,{$:()=>n,cn:()=>l});var t=s(2596),r=s(9688);function l(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,r.QP)((0,t.$)(a))}let n=()=>Math.random().toString(36).substr(2,9)}},e=>{var a=a=>e(e.s=a);e.O(0,[769,688,132,151,441,303,358],()=>a(5730)),_N_E=e.O()}]);