(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1950:(e,a,s)=>{"use strict";s.d(a,{p:()=>r,q:()=>t});let r={verde:{rate:.54,label:"Bandeira Verde"},amarela:{rate:.57,label:"Bandeira Amarela"},vermelha1:{rate:.6,label:"Bandeira Vermelha P1"},vermelha2:{rate:.65,label:"Bandeira Vermelha P2"}},t=[{id:"sala",name:"Sala",appliances:[]},{id:"cozinha",name:"Cozinha",appliances:[]},{id:"suite",name:"Su\xedte",appliances:[]},{id:"banheiro_suite",name:"Banheiro Su\xedte",appliances:[]},{id:"quarto_2",name:"Quarto 2",appliances:[]},{id:"banheiro_social",name:"Banheiro Social",appliances:[]},{id:"lavanderia",name:"Lavanderia",appliances:[]},{id:"quarto_3",name:"Quarto 3",appliances:[]},{id:"escritorio",name:"Escrit\xf3rio",appliances:[]}]},2684:(e,a,s)=>{Promise.resolve().then(s.bind(s,9602))},3038:(e,a,s)=>{"use strict";s.d(a,{I:()=>l});var r=s(9034),t=s(2115);let l=()=>{let e=(0,t.useContext)(r.Y);if(!e)throw Error("useEnergy must be used within an EnergyProvider");return e}},6695:(e,a,s)=>{"use strict";s.d(a,{Wu:()=>o,ZB:()=>n,Zp:()=>i,aR:()=>d});var r=s(5155),t=s(2115),l=s(9434);let i=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...t})});i.displayName="Card";let d=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...t})});d.displayName="CardHeader";let n=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...t})});n.displayName="CardTitle",t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",s),...t})}).displayName="CardDescription";let o=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("p-6 pt-0",s),...t})});o.displayName="CardContent",t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",s),...t})}).displayName="CardFooter"},9034:(e,a,s)=>{"use strict";s.d(a,{EnergyProvider:()=>n,Y:()=>d});var r=s(5155),t=s(1950),l=s(9434),i=s(2115);let d=(0,i.createContext)(null),n=e=>{let{children:a}=e,[s,n]=(0,i.useState)(!1),[o,c]=(0,i.useState)(t.q),[m,u]=(0,i.useState)("verde");(0,i.useEffect)(()=>{n(!0)},[]),(0,i.useEffect)(()=>{if(s){let e=localStorage.getItem("energywise-rooms");if(e)try{c(JSON.parse(e))}catch(e){console.error("Failed to parse rooms from localStorage",e)}let a=localStorage.getItem("energywise-tariff");a&&u(a)}},[s]),(0,i.useEffect)(()=>{s&&localStorage.setItem("energywise-rooms",JSON.stringify(o))},[o,s]),(0,i.useEffect)(()=>{s&&localStorage.setItem("energywise-tariff",m)},[m,s]);let p=(0,i.useCallback)((e,a)=>{c(s=>s.map(s=>s.id===e?{...s,appliances:[...s.appliances,{...a,id:(0,l.$)()}]}:s))},[]),f=(0,i.useCallback)((e,a)=>{c(s=>s.map(s=>s.id===e?{...s,appliances:s.appliances.map(e=>e.id===a.id?a:e)}:s))},[]),x=(0,i.useCallback)((e,a)=>{c(s=>s.map(s=>s.id===e?{...s,appliances:s.appliances.filter(e=>e.id!==a)}:s))},[]),h=(0,i.useCallback)(e=>o.find(a=>a.id===e),[o]),g=(0,i.useCallback)(e=>({monthlyKwh:e.power*e.usageHoursPerDay*30/1e3}),[]),{totalMonthlyKwh:j,totalDailyKwh:N,totalMonthlyCost:y,totalDailyCost:v}=(0,i.useMemo)(()=>{let e=o.reduce((e,a)=>e+a.appliances.reduce((e,a)=>e+a.power*a.usageHoursPerDay,0),0)/1e3,a=30*e,s=t.p[m].rate;return{totalMonthlyKwh:a,totalDailyKwh:e,totalMonthlyCost:a*s,totalDailyCost:e*s}},[o,m]);return(0,r.jsx)(d.Provider,{value:{rooms:o,tariffFlag:m,setTariffFlag:u,addAppliance:p,updateAppliance:f,removeAppliance:x,getRoomById:h,totalMonthlyKwh:j,totalDailyKwh:N,totalMonthlyCost:y,totalDailyCost:v,getApplianceConsumption:g,isClient:s},children:a})}},9434:(e,a,s)=>{"use strict";s.d(a,{$:()=>i,cn:()=>l});var r=s(2596),t=s(9688);function l(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,t.QP)((0,r.$)(a))}let i=()=>Math.random().toString(36).substr(2,9)},9602:(e,a,s)=>{"use strict";s.d(a,{default:()=>R});var r=s(5155),t=s(3038),l=s(6695),i=s(9434);function d(e){let{title:a,value:s,description:t,icon:d,className:n}=e;return(0,r.jsxs)(l.Zp,{className:(0,i.cn)("shadow-md hover:shadow-lg transition-shadow duration-300",n),children:[(0,r.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(l.ZB,{className:"text-sm font-medium",children:a}),(0,r.jsx)("div",{className:"text-muted-foreground",children:d})]}),(0,r.jsxs)(l.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold font-headline",children:s}),t&&(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:t})]})]})}var n=s(8390),o=s(9829),c=s(6936),m=s(8027),u=s(7787),p=s(2115),f=s(6768),x=s(9556),h=s(7381),g=s(518);let j=f.bL;f.YJ;let N=f.WT,y=p.forwardRef((e,a)=>{let{className:s,children:t,...l}=e;return(0,r.jsxs)(f.l9,{ref:a,className:(0,i.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...l,children:[t,(0,r.jsx)(f.In,{asChild:!0,children:(0,r.jsx)(x.A,{className:"h-4 w-4 opacity-50"})})]})});y.displayName=f.l9.displayName;let v=p.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(f.PP,{ref:a,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,r.jsx)(h.A,{className:"h-4 w-4"})})});v.displayName=f.PP.displayName;let w=p.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(f.wn,{ref:a,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,r.jsx)(x.A,{className:"h-4 w-4"})})});w.displayName=f.wn.displayName;let b=p.forwardRef((e,a)=>{let{className:s,children:t,position:l="popper",...d}=e;return(0,r.jsx)(f.ZL,{children:(0,r.jsxs)(f.UC,{ref:a,className:(0,i.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:l,...d,children:[(0,r.jsx)(v,{}),(0,r.jsx)(f.LM,{className:(0,i.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,r.jsx)(w,{})]})})});b.displayName=f.UC.displayName,p.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(f.JU,{ref:a,className:(0,i.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...t})}).displayName=f.JU.displayName;let C=p.forwardRef((e,a)=>{let{className:s,children:t,...l}=e;return(0,r.jsxs)(f.q7,{ref:a,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(f.VF,{children:(0,r.jsx)(g.A,{className:"h-4 w-4"})})}),(0,r.jsx)(f.p4,{children:t})]})});C.displayName=f.q7.displayName,p.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(f.wv,{ref:a,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",s),...t})}).displayName=f.wv.displayName;var E=s(1950);function R(){let{totalMonthlyKwh:e,totalDailyKwh:a,totalMonthlyCost:s,totalDailyCost:i,tariffFlag:p,setTariffFlag:f}=(0,t.I)(),x=e=>e.toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return(0,r.jsxs)("div",{className:"container py-8",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-4 mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight font-headline",children:"Dashboard de Consumo"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Vis\xe3o geral do consumo de energia da sua resid\xeancia."})]}),(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4 mb-8",children:[(0,r.jsx)(d,{title:"Custo Mensal Estimado",value:x(s),description:"Estimativa para 30 dias",icon:(0,r.jsx)(n.A,{})}),(0,r.jsx)(d,{title:"Consumo Mensal Estimado",value:"".concat(e.toFixed(2)," kWh"),description:"Estimativa para 30 dias",icon:(0,r.jsx)(o.A,{})}),(0,r.jsx)(d,{title:"Custo Di\xe1rio Estimado",value:x(i),description:"M\xe9dia di\xe1ria",icon:(0,r.jsx)(c.A,{})}),(0,r.jsx)(d,{title:"Consumo Di\xe1rio Estimado",value:"".concat(a.toFixed(2)," kWh"),description:"M\xe9dia di\xe1ria",icon:(0,r.jsx)(m.A,{})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsxs)(l.Zp,{className:"lg:col-span-1 shadow-md",children:[(0,r.jsx)(l.aR,{children:(0,r.jsxs)(l.ZB,{className:"flex items-center gap-2 text-lg",children:[(0,r.jsx)(u.A,{className:"w-5 h-5"}),"Ajuste da Bandeira Tarif\xe1ria"]})}),(0,r.jsxs)(l.Wu,{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Selecione a bandeira tarif\xe1ria atual da sua regi\xe3o para ajustar os c\xe1lculos de custo."}),(0,r.jsxs)(j,{value:p,onValueChange:e=>f(e),children:[(0,r.jsx)(y,{className:"w-full",children:(0,r.jsx)(N,{placeholder:"Selecione a bandeira"})}),(0,r.jsx)(b,{children:Object.entries(E.p).map(e=>{let[a,{label:s}]=e;return(0,r.jsx)(C,{value:a,children:s},a)})})]})]})]}),0===e&&(0,r.jsxs)(l.Zp,{className:"lg:col-span-2 bg-primary/10 border-primary/20 shadow-md",children:[(0,r.jsx)(l.aR,{children:(0,r.jsx)(l.ZB,{className:"text-lg",children:"Comece a usar!"})}),(0,r.jsx)(l.Wu,{children:(0,r.jsxs)("p",{className:"text-foreground/80",children:["Bem-vindo ao EcoWatt! Para ver seus dados de consumo, v\xe1 para a p\xe1gina ",(0,r.jsx)("a",{href:"/planta-da-casa",className:"font-bold underline hover:text-primary",children:"Planta da Casa"})," e comece a adicionar seus eletrodom\xe9sticos em cada c\xf4modo."]})})]})]})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[769,688,422,441,303,358],()=>a(2684)),_N_E=e.O()}]);